# فصل ۸: آزمون

هیچ تضمینی وجود ندارد که یک برنامه در آینده اجرا شود—تنها این اطمینان وجود دارد که برنامه اکنون در حال اجرا است. 
حتی اگر یک بار آن را اجرا کرده باشید، ممکن است دوباره اجرا نشود. 
شاید محیط اطراف آن تغییر کند و دیگر کار نکند. 
شاید آن را روی یک کامپیوتر دیگر اجرا کنید و در آن سیستم کار نکند.

بااین‌حال، امید وجود دارد—ما محکوم به بی‌اطمینانی بی‌پایان در مورد عملکرد نرم‌افزار خود نیستیم. 
قانون آزمون (Testing) راه خروج را به ما نشان می‌دهد:

**میزان دانایی شما از نحوه عملکرد نرم‌افزارتان برابر است با میزانی که به‌طور دقیق آن را آزمایش کرده‌اید.**

اگر اخیرا نرم‌افزار خود را آزمایش کرده باشید، احتمال بیشتری وجود دارد که هنوز کار کند. 
هرچه در محیط‌های بیشتری آن را آزمایش کرده باشید، می‌توانید مطمئن‌تر باشید که در آن شرایط نیز کار می‌کند. 
این بخشی از معنای «درجه» آزمون است—اینکه چند جنبه از نرم‌افزار را آزمایش کرده‌اید، چه زمانی و در چند محیط مختلف. 
به‌طورکلی، می‌توان گفت:

**تا زمانی که چیزی را امتحان نکرده‌اید، نمی‌دانید که کار می‌کند.**

گفتن "این کار می‌کند" در واقع بسیار مبهم است—منظورتان از "کار کردن" چیست؟ 
چیزی که واقعاً هنگام آزمون می‌دانید این است که نرم‌افزار شما همان‌طور که شما انتظار داشتید عمل می‌کند. 
بنابراین، شما باید بدانید که انتظار چه رفتاری را دارید. 
ممکن است این موضوع احمقانه و بدیهی به نظر برسد، اما این یک واقعیت حیاتی در آزمون است. 
شما باید با هر آزمون یک سوال بسیار دقیق بپرسید و یک پاسخ بسیار خاص دریافت کنید. 
سوال می‌تواند چیزی شبیه به این باشد: 
"چه اتفاقی می‌افتد وقتی که کاربر به‌عنوان اولین اقدام خود پس از شروع برنامه، این دکمه را فشار می‌دهد، درحالیکه برنامه هرگز قبلاً اجرا نشده است؟" 
و شما باید به دنبال پاسخی خاص باشید، مانند: 
"برنامه یک پنجره نمایش می‌دهد که می‌گوید 'Hello, World!'"

بنابراین، شما سوالی دارید و می‌دانید که پاسخ چه باید باشد. 
اگر پاسخی غیر از این دریافت کنید، نرم‌افزار شما "کار نمی‌کند".

گاهی اوقات یک رفتار بسیار سخت قابل‌آزمایش است و شما فقط می‌توانید بپرسید: 
"اگر یک کاربر این کار را انجام دهد، آیا برنامه درهم‌می‌شکند؟[^1]" 
و انتظار پاسخی مانند "نه" داشته باشید. 
اما با نرم‌افزارهای خوب طراحی‌شده، در بیشتر مواقع می‌توانید اطلاعات بسیار خاص‌تری از آزمون‌های خود دریافت کنید.

و البته، شما باید آزمون‌های خود را دقیق کنید. 
اگر تست‌ها به شما می‌گویند که برنامه درست عمل می‌کند درحالی‌که این‌طور نیست—یا به شما می‌گویند که برنامه خراب است درحالی‌که درست کار می‌کند—دقت این آزمون‌ها کم است.

در نهایت، شما باید نتایج آزمون‌های خود را مشاهده کنید تا موثر باشند. 
اگر تست‌ها شکست خورده باشند، باید راهی وجود داشته باشد که بفهمید آن‌ها شکست خورده‌اند و دقیقاً چگونه شکست خورده‌اند.

آزمون ممکن است به‌راحتی نادیده گرفته شود. 
ما کدی می‌نویسیم، آن را ذخیره می‌کنیم و فراموش می‌کنیم که ببینیم آیا واقعاً کار می‌کند یا نه. 
این مهم نیست چقدر شما به‌عنوان یک برنامه‌نویس باهوش هستید، مهم نیست چند اثبات ریاضی انجام داده‌اید که نشان دهد کد شما صحیح است، تا زمانی که واقعاً سعی نکرده‌اید از آن استفاده کنید، نمی‌دانید که کار می‌کند.

و اگر هر زمانی، بخشی از نرم‌افزار خود را تغییر دهید، دیگر نمی‌دانید که آن بخش همچنان کار می‌کند. 
باید دوباره آن بخش را آزمایش کنید. 
علاوه بر این، آن بخش احتمالاً به بخش‌های دیگر زیادی متصل است، بنابراین اکنون نمی‌دانید که آیا هیچ‌یک از آن بخش‌ها کار می‌کند یا نه. 
اگر تغییر شما به‌اندازه کافی بزرگ باشد، ممکن است مجبور شوید کل برنامه را دوباره آزمایش کنید.

واضح است که شما نمی‌خواهید مجبور باشید که کل برنامه خود را هر بار که یک تغییر کوچک ایجاد می‌کنید، به‌طور دستی آزمایش کنید. 
بنابراین، در دوران مدرن، توسعه‌دهندگان معمولاً این قانون را با ایجاد آزمون‌های خودکار برای هر قطعه کدی که می‌نویسند اعمال می‌کنند. 
نکته خوب در مورد این کار این است که آن‌ها می‌توانند درست بعد از هر تغییری که انجام می‌دهند، آزمون‌ها را اجرا کنند، و این آزمون‌های خودکار هر قطعه از سیستم را آزمایش می‌کنند تا مطمئن شوند که همه چیز بعد از هر تغییر همچنان کار می‌کند.

اطلاعات زیادی در اینترنت و کتاب‌ها در مورد نوشتن آزمون‌های خودکار و درباره آزمون به‌طورکلی وجود دارد—این حوزه به‌خوبی پوشش داده شده است و ارزش مطالعه را دارد. 
قانون آزمون فقط توضیح می‌دهد که چرا باید آزمایش کنیم، چه زمانی باید آزمایش کنیم و آزمون‌ها در واقع چه اطلاعاتی به ما می‌دهند.


[^1]: Crash
