# فصل ۱: مقدمه
همه ما آموخته‌ایم که نرم‌افزار «مجموعه‌ای از دستورالعمل‌هاست که به کامپیوتر داده می‌شود»، و این درست است. با این حال، هیچ زمینه‌ای وجود ندارد که در آن مجموعه‌ی دستورالعمل‌ها و نتیجه آنها به اندازه حوزه توسعه نرم‌افزار به هم مرتبط باشند. در دیگر زمینه‌ها، افراد دستورالعمل‌هایی می‌نویسند و آنها را به دیگران می‌سپارند، و اغلب مدتی طول می‌کشد تا آنها اجرا شوند. اما وقتی ما کد می‌نویسیم، هیچ واسطه‌ای بین ما و کامپیوتر وجود ندارد. نتیجه دقیقاً همان چیزی است که دستورالعمل‌ها گفته‌اند، بدون هیچ گونه پرسش دیگری. کیفیت نتیجه نهایی کاملاً به کیفیت ماشین، کیفیت ایده‌های ما و کیفیت کد ما بستگی دارد.

از میان این سه عامل، کیفیت کد بزرگ‌ترین مشکلی است که پروژه‌های نرم‌افزاری امروز با آن روبرو هستند. در نتیجه، بیشتر این کتاب بر بهبود کیفیت کد تمرکز دارد. در چند مورد به ایده‌ها و ماشین‌ها نیز پرداخته‌ام، اما عمدتاً تمرکز بر بهبود ساختار و کیفیت دستورالعمل‌هایی است که به ماشین می‌دهیم.

با این حال، مهم است به یاد داشته باشیم که ما این کار را فقط به این دلیل انجام می‌دهیم که به دنبال یک نتیجه بهتر هستیم. هیچ بهانه‌ای در توجیه نتایج ضعیف قابل قبول نیست — دلیل اصلی که در این کتاب بر بهبود کد تمرکز می‌کنیم این است که بهبود کد مهم‌ترین مشکلی است که برای بهبود نتیجه باید حل شود.

## چرا سادگی؟
اگر هر وسیله دیگری در خانه‌هایمان به اندازه کامپیوترمان دچار اختلال می‌شد، آنها را سریع پس می‌دادیم. کاربران (و گاهی حتی برنامه‌نویسان) به این طرز فکر عادت کرده‌اند که «نرم‌افزار همیشه باگ دارد». به نظر می‌رسد مردم این واقعیت را پذیرفته‌اند که سیستم‌ها در طول زمان حجیم شده و به هیولاهای غیرقابل نگهداری و ناپایداری تبدیل می‌شوند که در نهایت باید دور انداخته شوند و دوباره نوشته شوند.

اما هیچ‌کدام از این‌ها حتمی نیست. ناپایداری، حجیم شدن، و مشکلات مختلف کد ناشی از قوانین طبیعی جهان نیستند که اجتناب‌ناپذیر باشند و بخواهد همه نرم‌افزارها را خراب کند.

در عوض، تقریباً تمام این مشکلات از پیچیدگی ناشی می‌شوند.

وقتی کار را شروع می‌کنیم، سیستم‌های نرم‌افزاری ما کوچک و قابل نگهداری هستند. اما در طول زمان، همه آنها رشد می‌کنند. یک سیستم نرم‌افزاری به طور متوسط آنقدر بزرگ می‌شود که هیچ انسانی نمی‌تواند تمام کدهای آن را همزمان در ذهن خود نگه دارد. این نه خوب است و نه بد، فقط یک واقعیت است. سیستم‌های نرم‌افزاری مؤثر، در کل، ذاتاً پیچیده هستند. تنها امیدی که برای کار با این سیستم‌ها داریم این است که قطعات سازنده آنها را ساده نگه داریم، به طوری که وقتی به آن قطعات نگاه می‌کنیم، بتوانیم آنها را درک کنیم. برنامه‌نویسی، اساساً باید به عملی تبدیل شود که پیچیدگی را به سادگی کاهش می‌دهد.

اگر هر برنامه‌نویس قطعه‌کدهایی که روی آن کار می‌کنند را ساده نکنند، درک آن قطعات دشوار خواهند شد. نه تنها دشوار برای درک، دشوار برای رفع خطا، دشوار برای تغییر و دشوار برای اضافه کردن ویژگی‌های جدید نیز خواهند شد. اگر تعداد زیادی از قطعات سیستم پیچیده شوند، سیستم به طور کلی دیگر قابل نگهداری نخواهد بود. تقریباً تمام مشکلات توسعه نرم‌افزار مدرن از این ناشی می‌شوند — توسعه‌دهندگان پیچیدگی را به سیستم اضافه می‌کنند، به جای اینکه آن را کاهش دهند.

**یک برنامه‌نویس خوب باید هر کاری که در توانش است انجام دهد تا آنچه که می‌نویسد برای دیگر برنامه‌نویسان قابل استفاده و فهم باشد.**

> [!NOTE]
> **باورهای اشتباه درباره سادگی**
> 
> گاهی ایده سادگی به اشتباه به این معنا درک می‌شود که برنامه‌ها نباید کدهای زیادی داشته باشند یا نباید از فناوری‌های پیشرفته استفاده کنند. اما این درست نیست. گاهی اوقات کد زیاد به سادگی منجر می‌شود؛ کد زیاد به معنای نوشتن بیشتر و خواندن بیشتر است که اشکالی ندارد. و معمولاً، فناوری‌های پیشرفته به سادگی بیشتر منجر می‌شوند، حتی اگر یادگیری آنها زمان‌بر باشد.
> > 
> برخی افراد معتقدند نوشتن کد ساده زمان بیشتری نسبت به نوشتن سریع چیزی که «کار را راه بیندازد» می‌برد. هیچ داده‌ای که من از آن اطلاع داشته باشم این ایده را تأیید نمی‌کند. توسعه نرم‌افزار جدی تقریباً همیشه در بستر زمانی طولانی‌تر انجام می‌شود — در کوتاه‌ترین حالت، هفته‌ها یا ماه‌ها. وقتی شما پیچیدگی را به برنامه خود اضافه می‌کنید، در واقع خودتان را فردا کندتر می‌کنید. هر مطالعه‌ای که خوانده‌ام (و تمام تجربیات شخصی‌ام) نتیجه‌گیری می‌کند که نوشتن کد ساده در نهایت کار را سریع‌تر انجام می‌دهد، حتی اگر فکر کنید که پیچیدگی یک میانبر است.

## طراحی نرم‌افزار

بخش زیادی از این کتاب درباره طراحی نرم‌افزار است، فرآیندی که شما ساختار کد را در آن برنامه‌ریزی می‌کنید.


> [!TIP]
> هر زمان که در این کتاب کلمه «طراحی» را می‌بینید، به طراحی نرم‌افزار اشاره دارد، نه طراحی بصری، طراحی رابط کاربری یا نوع دیگری از طراحی.

نیاز به مقداری طراحی همیشه  در نرم‌افزار وجود دارد، حتی اگر فقط به اندازه یک تصمیم سریع قبل از اینکه انگشتانتان روی صفحه‌کلید برود باشد. در یک تیم برنامه‌نویسی، هر شخصی درگیر طراحی است. توسعه‌دهنده اصلی مسئول طراحی معماری کلی برنامه است. برنامه‌نویسان ارشد مسئول طراحی بخش‌های بزرگ خودشان هستند. و برنامه‌نویسان تازه‌کار مسئول طراحی بخش‌های کوچک خودشان، حتی اگر به سادگی یک بخش از یک فایل باشد، هستند. حتی در نوشتن یک خط کد هم مقداری طراحی دخیل است.

**هر کسی که نرم‌افزار می‌نویسد یک طراح است.**

تک‌تک افراد یک تیم نرم‌افزاری مسئول هستند که اطمینان حاصل کنند کدی که می‌نویسند به خوبی طراحی شده است. هیچ کس که برای یک پروژه نرم‌افزاری کد می‌نویسد، اجازه ندارد طراحی نرم‌افزار را نادیده بگیرد، در هر سطحی که باشد.

اما این به این معنا نیست که طراحی یک دموکراسی است. طراحی نباید به کمیته سپرده شود. در آن صورت، نتیجه طراحی‌ای خواهد بود که به طور جدی مضر است — طراحی‌ای که چیزها را پیچیده‌تر می‌کند به جای اینکه ساده‌تر کند. در عوض، همه توسعه‌دهندگان باید این اختیار را داشته باشند که در بخش خود تصمیمات طراحی خوبی بگیرند. اگر آنها تصمیمات ضعیف یا متوسط بگیرند، این تصمیمات باید توسط یک برنامه‌نویس ارشد یا توسعه‌دهنده اصلی لغو شود، که باید قدرت وتو بر تصمیمات طراحان پایین‌تر از خود داشته باشد[^1]. با این حال، مسئولیت طراحی کد باید بر عهده افرادی باشد که در حال کار بر روی آن هستند.

یک طراح همیشه باید آماده شنیدن پیشنهادات و بازخورد باشد، زیرا برنامه‌نویسان معمولاً افراد باهوشی هستند که ایده‌های خوبی دارند. اما بعد از در نظر گرفتن تمام داده‌ها، هر تصمیم خاصی باید توسط یک فرد اتخاذ شود، نه توسط گروهی از افراد.


[^1]: اگر شما کسی هستید که تصمیمی را لغو می‌کنید، سعی کنید هنگام انجام این کار، برنامه‌نویس دیگر را آموزش دهید. نشان دهید که چگونه یا چرا تصمیم شما بهتر از تصمیم او است. اگر این کار را انجام دهید، با گذشت زمان کمتر و کمتر نیاز به لغو تصمیمات آن برنامه‌نویس خواهید داشت. با این حال، برخی از برنامه‌نویسان هرگز یاد نمی‌گیرند—اگر پس از چند ماه یا سال‌ها آموزش، یک برنامه‌نویس همچنان تصمیمات بد زیادی بگیرد، باید از تیم شما حذف شود. با این حال، بیشتر برنامه‌نویسان افراد بسیار باهوشی هستند که به سرعت چیزها را یاد می‌گیرند، بنابراین این به ندرت یک نگرانی است.
